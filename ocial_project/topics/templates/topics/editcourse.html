{% extends '../temp/classroom_base.html' %}

{% load static %}   


{% block content %}

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-lite.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


<div class="container-fluid" style="margin-top:40px;">

	{% if error %}

	<p style="color:red;" class="text-center"> {{error}} </p>

	{%endif%}


    <form method="POST" action="{% url 'editcourse' course.id %}" enctype="multipart/form-data">
    	{% csrf_token %}



        <div class="form-group">
    
            <div class="row">
                <div class="col-sm-8">  
                    <input type="text" class="form-control" name="title" value="{{ course.title }}">
                    <br />

                    <textarea type="text" class="form-control" name="description" rows="4" placeholder="Course Description">{{ course.description }}</textarea>
                    <br />

                     <textarea id="summernote" name="wywl">{{ course.wywl }}</textarea>
                        <script>
                          $('#summernote').summernote({
                            placeholder: 'What they will learn?',
                            tabsize: 1,
                            height: 250
                          });
                        </script>   
                </div>



                <div class="col-sm-4">
                        <img src="{{ course.image.url }}" style="width:100%; height: auto">
                        <input type="file" class="form-control-file" name="image" >
                        <br />
                        <label for="exampleFormControlSelect1">Topic</label>
                        <select class="form-control" name="topic">
                            <option disabled selected>Select topic</option>
                            {% for topic in topics.all %}
                                {% if topic.id == course.topic.id %}
                                    <option selected value="{{ topic.id }}">{{ topic }}</option>
                                {% else %}
                                    <option value="{{ topic.id }}">{{ topic }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <br />

                        <form class="form-inline" action="{% url 'editcourse' course.id %}">
                            <div class="input-group mb-3">
                              <input type="text" class="form-control" placeholder="New Topic" name="topictitle" aria-describedby="basic-addon2">
                              <div class="input-group-append">
                                <button class="btn btn-outline-danger" type="submit" name="newtopic" >Add</button>
                              </div>
                            </div>
                        </form>

                   
                        <br />



                        {% for label in course.label.all %} 
                        <button type="submit" name="removelabel" class="badge badge-pill badge-dark" style="margin-bottom: 5px;">{{ label.name }}</button>
                            <input type="hidden" name="labelremove"  value="{{ label.id }}">
                        {% endfor %}

                        <input type="text" class="form-control" name="labels" placeholder="Labels">

                        <br />

                        {% if course.published == True %}
                            <small>Published at: {{course.pub_date_exact}}</small>
                        {% else %}
                            <small>Saved at: {{course.pub_date_exact}}</small>
                        {% endif %}

                        <br />

                        <button type="submit" name="save" class="btn btn-danger">Save</button>
                        <button type="submit" name="publish" class="btn btn-danger">Publish</button>
                </div>
            </div>
        </div>





    </form>



<script>
function openForm() {
  document.getElementById("myForm").style.display = "block";
}

function closeForm() {
  document.getElementById("myForm").style.display = "none";
}
</script>

</div>


{%endblock%}

